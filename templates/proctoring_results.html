{% extends "layout.html" %}
{% block content %}
<div class="container">
    <h1>Proctoring Results</h1>
    <h2>Exam: {{ attempt.exam_title }}</h2>
    <h3>Student: {{ attempt.student_username }}</h3>

    <div class="row">
        <div class="col-md-8">
<div class="video-container">
        <h3>Proctoring Video</h3>
        <video id="proctoring-video" controls preload="metadata" width="100%">
            <source src="{{ url_for('proctoring_video', attempt_id=attempt_id) }}" type="video/webm">
            Your browser does not support the video tag.
        </video>
    </div>
        </div>
        <div class="col-md-4">
            <h4>Proctoring Logs</h4>
            <ul class="list-group">
                {% for log in logs %}
                    <li class="list-group-item">
                        <strong>{{ log.event_type }}</strong> at {{ log.timestamp }}
                        {% if log.screenshot_path %}
                            <a href="{{ url_for('static', filename=log.screenshot_path) }}" target="_blank">(View Screenshot)</a>
                        {% endif %}
                    </li>
                {% else %}
                    <li class="list-group-item">No proctoring events logged.</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}
